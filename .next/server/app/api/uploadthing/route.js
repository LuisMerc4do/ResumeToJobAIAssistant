/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/uploadthing/route";
exports.ids = ["app/api/uploadthing/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?b5ef":
/*!**************************!*\
  !*** encoding (ignored) ***!
  \**************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_skill_source_repos_resumetojob_ai_ResumeToJob_src_app_api_uploadthing_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/uploadthing/route.ts */ \"(rsc)/./src/app/api/uploadthing/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/uploadthing/route\",\n        pathname: \"/api/uploadthing\",\n        filename: \"route\",\n        bundlePath: \"app/api/uploadthing/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\skill\\\\source\\\\repos\\\\resumetojob.ai\\\\ResumeToJob\\\\src\\\\app\\\\api\\\\uploadthing\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_skill_source_repos_resumetojob_ai_ResumeToJob_src_app_api_uploadthing_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/uploadthing/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1cGxvYWR0aGluZyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXBsb2FkdGhpbmclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1cGxvYWR0aGluZyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNza2lsbCU1Q3NvdXJjZSU1Q3JlcG9zJTVDcmVzdW1ldG9qb2IuYWklNUNSZXN1bWVUb0pvYiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDc2tpbGwlNUNzb3VyY2UlNUNyZXBvcyU1Q3Jlc3VtZXRvam9iLmFpJTVDUmVzdW1lVG9Kb2ImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDK0g7QUFDL0gsNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlsbC8/NmQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJuZXh0L2Rpc3Qvc2VydmVyL25vZGUtcG9seWZpbGwtaGVhZGVyc1wiO1xuLy8gQHRzLWlnbm9yZSB0aGlzIG5lZWQgdG8gYmUgaW1wb3J0ZWQgZnJvbSBuZXh0L2Rpc3QgdG8gYmUgZXh0ZXJuYWxcbmltcG9ydCAqIGFzIG1vZHVsZSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gQHRzLWV4cGVjdC1lcnJvciAtIHJlcGxhY2VkIGJ5IHdlYnBhY2svdHVyYm9wYWNrIGxvYWRlclxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHNraWxsXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxyZXN1bWV0b2pvYi5haVxcXFxSZXN1bWVUb0pvYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx1cGxvYWR0aGluZ1xcXFxyb3V0ZS50c1wiO1xuY29uc3QgQXBwUm91dGVSb3V0ZU1vZHVsZSA9IG1vZHVsZS5BcHBSb3V0ZVJvdXRlTW9kdWxlO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXBsb2FkdGhpbmcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91cGxvYWR0aGluZ1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdXBsb2FkdGhpbmcvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxza2lsbFxcXFxzb3VyY2VcXFxccmVwb3NcXFxccmVzdW1ldG9qb2IuYWlcXFxcUmVzdW1lVG9Kb2JcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXBsb2FkdGhpbmdcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXBsb2FkdGhpbmcvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/uploadthing/core.ts":
/*!*****************************************!*\
  !*** ./src/app/api/uploadthing/core.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ourFileRouter: () => (/* binding */ ourFileRouter)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/cjs/index.js\");\n/* harmony import */ var uploadthing_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uploadthing/next */ \"(rsc)/./node_modules/uploadthing/dist/next.mjs\");\n/* harmony import */ var langchain_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! langchain/document_loaders/fs/pdf */ \"(rsc)/./node_modules/langchain/document_loaders/fs/pdf.js\");\n/* harmony import */ var langchain_embeddings_openai__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! langchain/embeddings/openai */ \"(rsc)/./node_modules/langchain/embeddings/openai.js\");\n/* harmony import */ var langchain_vectorstores_pinecone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! langchain/vectorstores/pinecone */ \"(rsc)/./node_modules/langchain/vectorstores/pinecone.js\");\n/* harmony import */ var _lib_pinecone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/pinecone */ \"(rsc)/./src/lib/pinecone.ts\");\n/* harmony import */ var _lib_stripe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/stripe */ \"(rsc)/./src/lib/stripe.ts\");\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n\n\n\n\n\n\n\n\n\nconst f = (0,uploadthing_next__WEBPACK_IMPORTED_MODULE_2__.createUploadthing)();\nconst middleware = async ()=>{\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getKindeServerSession)();\n    const user = getUser();\n    if (!user || !user.id) throw new Error(\"Unauthorized\");\n    const subscriptionPlan = await (0,_lib_stripe__WEBPACK_IMPORTED_MODULE_7__.getUserSubscriptionPlan)();\n    return {\n        subscriptionPlan,\n        userId: user.id\n    };\n};\nconst onUploadComplete = async ({ metadata, file })=>{\n    const isFileExist = await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.findFirst({\n        where: {\n            key: file.key\n        }\n    });\n    if (isFileExist) return;\n    const createdFile = await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.create({\n        data: {\n            key: file.key,\n            name: file.name,\n            userId: metadata.userId,\n            url: `https://utfs.io/f/${file.key}`,\n            uploadStatus: \"PROCESSING\"\n        }\n    });\n    try {\n        const response = await fetch(`https://utfs.io/f/${file.key}`);\n        const blob = await response.blob();\n        const loader = new langchain_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_3__.PDFLoader(blob);\n        const pageLevelDocs = await loader.load();\n        const pagesAmt = pageLevelDocs.length;\n        const { subscriptionPlan } = metadata;\n        const { isSubscribed } = subscriptionPlan;\n        const isProExceeded = pagesAmt > _config_stripe__WEBPACK_IMPORTED_MODULE_8__.PLANS.find((plan)=>plan.name === \"Pro\").pagesPerPdf;\n        const isFreeExceeded = pagesAmt > _config_stripe__WEBPACK_IMPORTED_MODULE_8__.PLANS.find((plan)=>plan.name === \"Free\").pagesPerPdf;\n        if (isSubscribed && isProExceeded || !isSubscribed && isFreeExceeded) {\n            await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n                data: {\n                    uploadStatus: \"FAILED\"\n                },\n                where: {\n                    id: createdFile.id\n                }\n            });\n        }\n        // vectorize and index entire document\n        const pinecone = await (0,_lib_pinecone__WEBPACK_IMPORTED_MODULE_6__.getPineconeClient)();\n        const pineconeIndex = pinecone.Index(\"quill\");\n        const embeddings = new langchain_embeddings_openai__WEBPACK_IMPORTED_MODULE_4__.OpenAIEmbeddings({\n            openAIApiKey: process.env.OPENAI_API_KEY\n        });\n        await langchain_vectorstores_pinecone__WEBPACK_IMPORTED_MODULE_5__.PineconeStore.fromDocuments(pageLevelDocs, embeddings, {\n            pineconeIndex,\n            namespace: createdFile.id\n        });\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n            data: {\n                uploadStatus: \"SUCCESS\"\n            },\n            where: {\n                id: createdFile.id\n            }\n        });\n    } catch (err) {\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n            data: {\n                uploadStatus: \"FAILED\"\n            },\n            where: {\n                id: createdFile.id\n            }\n        });\n    }\n};\nconst ourFileRouter = {\n    freePlanUploader: f({\n        pdf: {\n            maxFileSize: \"8MB\"\n        }\n    }).middleware(middleware).onUploadComplete(onUploadComplete),\n    proPlanUploader: f({\n        pdf: {\n            maxFileSize: \"16MB\"\n        }\n    }).middleware(middleware).onUploadComplete(onUploadComplete)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SztRQUNaLE1BQU12RCxtQ0FBRUEsQ0FBQ21CLElBQUksQ0FBQ3lCLE1BQU0sQ0FBQztZQUNuQmxCLE1BQU07Z0JBQ0pHLGNBQWM7WUFDaEI7WUFDQVAsT0FBTztnQkFDTFQsSUFBSVcsWUFBWVgsRUFBRTtZQUNwQjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLE1BQU0yQyxnQkFBZ0I7SUFDM0JDLGtCQUFrQmhELEVBQUU7UUFBRWlELEtBQUs7WUFBRUMsYUFBYTtRQUFNO0lBQUUsR0FDL0NqRCxVQUFVLENBQUNBLFlBQ1hPLGdCQUFnQixDQUFDQTtJQUNwQjJDLGlCQUFpQm5ELEVBQUU7UUFBRWlELEtBQUs7WUFBRUMsYUFBYTtRQUFPO0lBQUUsR0FDL0NqRCxVQUFVLENBQUNBLFlBQ1hPLGdCQUFnQixDQUFDQTtBQUN0QixFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aWxsLy4vc3JjL2FwcC9hcGkvdXBsb2FkdGhpbmcvY29yZS50cz8xYTY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSBcIkAvZGJcIjtcclxuaW1wb3J0IHsgZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIkBraW5kZS1vc3Mva2luZGUtYXV0aC1uZXh0anMvc2VydmVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVwbG9hZHRoaW5nLCB0eXBlIEZpbGVSb3V0ZXIgfSBmcm9tIFwidXBsb2FkdGhpbmcvbmV4dFwiO1xyXG5cclxuaW1wb3J0IHsgUERGTG9hZGVyIH0gZnJvbSBcImxhbmdjaGFpbi9kb2N1bWVudF9sb2FkZXJzL2ZzL3BkZlwiO1xyXG5pbXBvcnQgeyBPcGVuQUlFbWJlZGRpbmdzIH0gZnJvbSBcImxhbmdjaGFpbi9lbWJlZGRpbmdzL29wZW5haVwiO1xyXG5pbXBvcnQgeyBQaW5lY29uZVN0b3JlIH0gZnJvbSBcImxhbmdjaGFpbi92ZWN0b3JzdG9yZXMvcGluZWNvbmVcIjtcclxuaW1wb3J0IHsgZ2V0UGluZWNvbmVDbGllbnQgfSBmcm9tIFwiQC9saWIvcGluZWNvbmVcIjtcclxuaW1wb3J0IHsgZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4gfSBmcm9tIFwiQC9saWIvc3RyaXBlXCI7XHJcbmltcG9ydCB7IFBMQU5TIH0gZnJvbSBcIkAvY29uZmlnL3N0cmlwZVwiO1xyXG5cclxuY29uc3QgZiA9IGNyZWF0ZVVwbG9hZHRoaW5nKCk7XHJcblxyXG5jb25zdCBtaWRkbGV3YXJlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHsgZ2V0VXNlciB9ID0gZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uKCk7XHJcbiAgY29uc3QgdXNlciA9IGdldFVzZXIoKTtcclxuXHJcbiAgaWYgKCF1c2VyIHx8ICF1c2VyLmlkKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmF1dGhvcml6ZWRcIik7XHJcblxyXG4gIGNvbnN0IHN1YnNjcmlwdGlvblBsYW4gPSBhd2FpdCBnZXRVc2VyU3Vic2NyaXB0aW9uUGxhbigpO1xyXG5cclxuICByZXR1cm4geyBzdWJzY3JpcHRpb25QbGFuLCB1c2VySWQ6IHVzZXIuaWQgfTtcclxufTtcclxuXHJcbmNvbnN0IG9uVXBsb2FkQ29tcGxldGUgPSBhc3luYyAoe1xyXG4gIG1ldGFkYXRhLFxyXG4gIGZpbGUsXHJcbn06IHtcclxuICBtZXRhZGF0YTogQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBtaWRkbGV3YXJlPj47XHJcbiAgZmlsZToge1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgaXNGaWxlRXhpc3QgPSBhd2FpdCBkYi5maWxlLmZpbmRGaXJzdCh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICBrZXk6IGZpbGUua2V5LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKGlzRmlsZUV4aXN0KSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgZGIuZmlsZS5jcmVhdGUoe1xyXG4gICAgZGF0YToge1xyXG4gICAgICBrZXk6IGZpbGUua2V5LFxyXG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXHJcbiAgICAgIHVzZXJJZDogbWV0YWRhdGEudXNlcklkLFxyXG4gICAgICB1cmw6IGBodHRwczovL3V0ZnMuaW8vZi8ke2ZpbGUua2V5fWAsXHJcbiAgICAgIHVwbG9hZFN0YXR1czogXCJQUk9DRVNTSU5HXCIsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly91dGZzLmlvL2YvJHtmaWxlLmtleX1gKTtcclxuXHJcbiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xyXG5cclxuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBQREZMb2FkZXIoYmxvYik7XHJcblxyXG4gICAgY29uc3QgcGFnZUxldmVsRG9jcyA9IGF3YWl0IGxvYWRlci5sb2FkKCk7XHJcblxyXG4gICAgY29uc3QgcGFnZXNBbXQgPSBwYWdlTGV2ZWxEb2NzLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCB7IHN1YnNjcmlwdGlvblBsYW4gfSA9IG1ldGFkYXRhO1xyXG4gICAgY29uc3QgeyBpc1N1YnNjcmliZWQgfSA9IHN1YnNjcmlwdGlvblBsYW47XHJcblxyXG4gICAgY29uc3QgaXNQcm9FeGNlZWRlZCA9XHJcbiAgICAgIHBhZ2VzQW10ID4gUExBTlMuZmluZCgocGxhbikgPT4gcGxhbi5uYW1lID09PSBcIlByb1wiKSEucGFnZXNQZXJQZGY7XHJcbiAgICBjb25zdCBpc0ZyZWVFeGNlZWRlZCA9XHJcbiAgICAgIHBhZ2VzQW10ID4gUExBTlMuZmluZCgocGxhbikgPT4gcGxhbi5uYW1lID09PSBcIkZyZWVcIikhLnBhZ2VzUGVyUGRmO1xyXG5cclxuICAgIGlmICgoaXNTdWJzY3JpYmVkICYmIGlzUHJvRXhjZWVkZWQpIHx8ICghaXNTdWJzY3JpYmVkICYmIGlzRnJlZUV4Y2VlZGVkKSkge1xyXG4gICAgICBhd2FpdCBkYi5maWxlLnVwZGF0ZSh7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgdXBsb2FkU3RhdHVzOiBcIkZBSUxFRFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIGlkOiBjcmVhdGVkRmlsZS5pZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB2ZWN0b3JpemUgYW5kIGluZGV4IGVudGlyZSBkb2N1bWVudFxyXG4gICAgY29uc3QgcGluZWNvbmUgPSBhd2FpdCBnZXRQaW5lY29uZUNsaWVudCgpO1xyXG4gICAgY29uc3QgcGluZWNvbmVJbmRleCA9IHBpbmVjb25lLkluZGV4KFwicXVpbGxcIik7XHJcblxyXG4gICAgY29uc3QgZW1iZWRkaW5ncyA9IG5ldyBPcGVuQUlFbWJlZGRpbmdzKHtcclxuICAgICAgb3BlbkFJQXBpS2V5OiBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSxcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IFBpbmVjb25lU3RvcmUuZnJvbURvY3VtZW50cyhwYWdlTGV2ZWxEb2NzLCBlbWJlZGRpbmdzLCB7XHJcbiAgICAgIHBpbmVjb25lSW5kZXgsXHJcbiAgICAgIG5hbWVzcGFjZTogY3JlYXRlZEZpbGUuaWQsXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBkYi5maWxlLnVwZGF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB1cGxvYWRTdGF0dXM6IFwiU1VDQ0VTU1wiLFxyXG4gICAgICB9LFxyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkOiBjcmVhdGVkRmlsZS5pZCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgYXdhaXQgZGIuZmlsZS51cGRhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXBsb2FkU3RhdHVzOiBcIkZBSUxFRFwiLFxyXG4gICAgICB9LFxyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkOiBjcmVhdGVkRmlsZS5pZCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvdXJGaWxlUm91dGVyID0ge1xyXG4gIGZyZWVQbGFuVXBsb2FkZXI6IGYoeyBwZGY6IHsgbWF4RmlsZVNpemU6IFwiOE1CXCIgfSB9KVxyXG4gICAgLm1pZGRsZXdhcmUobWlkZGxld2FyZSlcclxuICAgIC5vblVwbG9hZENvbXBsZXRlKG9uVXBsb2FkQ29tcGxldGUpLFxyXG4gIHByb1BsYW5VcGxvYWRlcjogZih7IHBkZjogeyBtYXhGaWxlU2l6ZTogXCIxNk1CXCIgfSB9KVxyXG4gICAgLm1pZGRsZXdhcmUobWlkZGxld2FyZSlcclxuICAgIC5vblVwbG9hZENvbXBsZXRlKG9uVXBsb2FkQ29tcGxldGUpLFxyXG59IHNhdGlzZmllcyBGaWxlUm91dGVyO1xyXG5cclxuZXhwb3J0IHR5cGUgT3VyRmlsZVJvdXRlciA9IHR5cGVvZiBvdXJGaWxlUm91dGVyO1xyXG4iXSwibmFtZXMiOlsiZGIiLCJnZXRLaW5kZVNlcnZlclNlc3Npb24iLCJjcmVhdGVVcGxvYWR0aGluZyIsIlBERkxvYWRlciIsIk9wZW5BSUVtYmVkZGluZ3MiLCJQaW5lY29uZVN0b3JlIiwiZ2V0UGluZWNvbmVDbGllbnQiLCJnZXRVc2VyU3Vic2NyaXB0aW9uUGxhbiIsIlBMQU5TIiwiZiIsIm1pZGRsZXdhcmUiLCJnZXRVc2VyIiwidXNlciIsImlkIiwiRXJyb3IiLCJzdWJzY3JpcHRpb25QbGFuIiwidXNlcklkIiwib25VcGxvYWRDb21wbGV0ZSIsIm1ldGFkYXRhIiwiZmlsZSIsImlzRmlsZUV4aXN0IiwiZmluZEZpcnN0Iiwid2hlcmUiLCJrZXkiLCJjcmVhdGVkRmlsZSIsImNyZWF0ZSIsImRhdGEiLCJuYW1lIiwidXJsIiwidXBsb2FkU3RhdHVzIiwicmVzcG9uc2UiLCJmZXRjaCIsImJsb2IiLCJsb2FkZXIiLCJwYWdlTGV2ZWxEb2NzIiwibG9hZCIsInBhZ2VzQW10IiwibGVuZ3RoIiwiaXNTdWJzY3JpYmVkIiwiaXNQcm9FeGNlZWRlZCIsImZpbmQiLCJwbGFuIiwicGFnZXNQZXJQZGYiLCJpc0ZyZWVFeGNlZWRlZCIsInVwZGF0ZSIsInBpbmVjb25lIiwicGluZWNvbmVJbmRleCIsIkluZGV4IiwiZW1iZWRkaW5ncyIsIm9wZW5BSUFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsImZyb21Eb2N1bWVudHMiLCJuYW1lc3BhY2UiLCJlcnIiLCJvdXJGaWxlUm91dGVyIiwiZnJlZVBsYW5VcGxvYWRlciIsInBkZiIsIm1heEZpbGVTaXplIiwicHJvUGxhblVwbG9hZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/uploadthing/core.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/uploadthing/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/uploadthing/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var uploadthing_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uploadthing/next */ \"(rsc)/./node_modules/uploadthing/dist/next.mjs\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"(rsc)/./src/app/api/uploadthing/core.ts\");\n\n\n// Export routes for Next App Router\nconst { GET, POST } = (0,uploadthing_next__WEBPACK_IMPORTED_MODULE_0__.createNextRouteHandler)({\n    router: _core__WEBPACK_IMPORTED_MODULE_1__.ourFileRouter\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91cGxvYWR0aGluZy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBEO0FBRW5CO0FBRXZDLG9DQUFvQztBQUM3QixNQUFNLEVBQUVFLEdBQUcsRUFBRUMsSUFBSSxFQUFFLEdBQUdILHdFQUFzQkEsQ0FBQztJQUNsREksUUFBUUgsZ0RBQWFBO0FBQ3ZCLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlsbC8uL3NyYy9hcHAvYXBpL3VwbG9hZHRoaW5nL3JvdXRlLnRzP2FhNDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTmV4dFJvdXRlSGFuZGxlciB9IGZyb20gXCJ1cGxvYWR0aGluZy9uZXh0XCI7XHJcbiBcclxuaW1wb3J0IHsgb3VyRmlsZVJvdXRlciB9IGZyb20gXCIuL2NvcmVcIjtcclxuIFxyXG4vLyBFeHBvcnQgcm91dGVzIGZvciBOZXh0IEFwcCBSb3V0ZXJcclxuZXhwb3J0IGNvbnN0IHsgR0VULCBQT1NUIH0gPSBjcmVhdGVOZXh0Um91dGVIYW5kbGVyKHtcclxuICByb3V0ZXI6IG91ckZpbGVSb3V0ZXIsXHJcbn0pOyJdLCJuYW1lcyI6WyJjcmVhdGVOZXh0Um91dGVIYW5kbGVyIiwib3VyRmlsZVJvdXRlciIsIkdFVCIsIlBPU1QiLCJyb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/uploadthing/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/config/stripe.ts":
/*!******************************!*\
  !*** ./src/config/stripe.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLANS: () => (/* binding */ PLANS)\n/* harmony export */ });\nconst PLANS = [\n    {\n        name: \"Free\",\n        slug: \"free\",\n        quota: 10,\n        pagesPerPdf: 5,\n        price: {\n            amount: 0,\n            priceIds: {\n                test: \"\",\n                production: \"\"\n            }\n        }\n    },\n    {\n        name: \"Pro\",\n        slug: \"pro\",\n        quota: 50,\n        pagesPerPdf: 25,\n        price: {\n            amount: 14,\n            priceIds: {\n                test: \"price_1NuEwTA19umTXGu8MeS3hN8L\",\n                production: \"\"\n            }\n        }\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsUUFBUTtJQUNuQjtRQUNFQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87WUFDTEMsUUFBUTtZQUNSQyxVQUFVO2dCQUNSQyxNQUFNO2dCQUNOQyxZQUFZO1lBQ2Q7UUFDRjtJQUNGO0lBQ0E7UUFDRVIsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxPQUFPO1lBQ0xDLFFBQVE7WUFDUkMsVUFBVTtnQkFDUkMsTUFBTTtnQkFDTkMsWUFBWTtZQUNkO1FBQ0Y7SUFDRjtDQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpbGwvLi9zcmMvY29uZmlnL3N0cmlwZS50cz81Y2ExIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQTEFOUyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAnRnJlZScsXHJcbiAgICBzbHVnOiAnZnJlZScsXHJcbiAgICBxdW90YTogMTAsXHJcbiAgICBwYWdlc1BlclBkZjogNSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgIGFtb3VudDogMCxcclxuICAgICAgcHJpY2VJZHM6IHtcclxuICAgICAgICB0ZXN0OiAnJyxcclxuICAgICAgICBwcm9kdWN0aW9uOiAnJyxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnUHJvJyxcclxuICAgIHNsdWc6ICdwcm8nLFxyXG4gICAgcXVvdGE6IDUwLFxyXG4gICAgcGFnZXNQZXJQZGY6IDI1LFxyXG4gICAgcHJpY2U6IHtcclxuICAgICAgYW1vdW50OiAxNCxcclxuICAgICAgcHJpY2VJZHM6IHtcclxuICAgICAgICB0ZXN0OiAncHJpY2VfMU51RXdUQTE5dW1UWEd1OE1lUzNoTjhMJyxcclxuICAgICAgICBwcm9kdWN0aW9uOiAnJyxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSxcclxuXVxyXG4iXSwibmFtZXMiOlsiUExBTlMiLCJuYW1lIiwic2x1ZyIsInF1b3RhIiwicGFnZXNQZXJQZGYiLCJwcmljZSIsImFtb3VudCIsInByaWNlSWRzIiwidGVzdCIsInByb2R1Y3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/config/stripe.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/index.ts":
/*!*************************!*\
  !*** ./src/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.cachedPrisma) {\n        global.cachedPrisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.cachedPrisma;\n}\nconst db = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBTzdDLElBQUlDO0FBQ0osSUFBSUMsS0FBeUIsRUFBYyxFQUUxQyxNQUFNO0lBQ0wsSUFBSSxDQUFDQyxPQUFPQyxZQUFZLEVBQUU7UUFDeEJELE9BQU9DLFlBQVksR0FBRyxJQUFJSix3REFBWUE7SUFDeEM7SUFDQUMsU0FBU0UsT0FBT0MsWUFBWTtBQUM5QjtBQUVPLE1BQU1DLEtBQUtKLE9BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlsbC8uL3NyYy9kYi9pbmRleC50cz9kYWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcclxuICB2YXIgY2FjaGVkUHJpc21hOiBQcmlzbWFDbGllbnRcclxufVxyXG5cclxubGV0IHByaXNtYTogUHJpc21hQ2xpZW50XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwuY2FjaGVkUHJpc21hKSB7XHJcbiAgICBnbG9iYWwuY2FjaGVkUHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbiAgfVxyXG4gIHByaXNtYSA9IGdsb2JhbC5jYWNoZWRQcmlzbWFcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRiID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsInByb2Nlc3MiLCJnbG9iYWwiLCJjYWNoZWRQcmlzbWEiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pinecone.ts":
/*!*****************************!*\
  !*** ./src/lib/pinecone.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPineconeClient: () => (/* binding */ getPineconeClient)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ \"(rsc)/./node_modules/@pinecone-database/pinecone/dist/index.js\");\n\nconst getPineconeClient = async ()=>{\n    const client = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.PineconeClient();\n    await client.init({\n        apiKey: process.env.PINECONE_API_KEY,\n        environment: \"us-east1-gcp\"\n    });\n    return client;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BpbmVjb25lLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTREO0FBRXJELE1BQU1DLG9CQUFvQjtJQUMvQixNQUFNQyxTQUFTLElBQUlGLHVFQUFjQTtJQUVqQyxNQUFNRSxPQUFPQyxJQUFJLENBQUM7UUFDaEJDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ3BDQyxhQUFhO0lBQ2Y7SUFFQSxPQUFPTjtBQUNULEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlsbC8uL3NyYy9saWIvcGluZWNvbmUudHM/MTA0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaW5lY29uZUNsaWVudCB9IGZyb20gJ0BwaW5lY29uZS1kYXRhYmFzZS9waW5lY29uZSdcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQaW5lY29uZUNsaWVudCA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBjbGllbnQgPSBuZXcgUGluZWNvbmVDbGllbnQoKVxyXG5cclxuICBhd2FpdCBjbGllbnQuaW5pdCh7XHJcbiAgICBhcGlLZXk6IHByb2Nlc3MuZW52LlBJTkVDT05FX0FQSV9LRVkhLFxyXG4gICAgZW52aXJvbm1lbnQ6ICd1cy1lYXN0MS1nY3AnLFxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBjbGllbnRcclxufVxyXG4iXSwibmFtZXMiOlsiUGluZWNvbmVDbGllbnQiLCJnZXRQaW5lY29uZUNsaWVudCIsImNsaWVudCIsImluaXQiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiUElORUNPTkVfQVBJX0tFWSIsImVudmlyb25tZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pinecone.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/stripe.ts":
/*!***************************!*\
  !*** ./src/lib/stripe.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserSubscriptionPlan: () => (/* binding */ getUserSubscriptionPlan),\n/* harmony export */   stripe: () => (/* binding */ stripe)\n/* harmony export */ });\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/cjs/index.js\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! stripe */ \"(rsc)/./node_modules/stripe/esm/stripe.esm.node.js\");\n\n\n\n\nconst stripe = new stripe__WEBPACK_IMPORTED_MODULE_3__[\"default\"](process.env.STRIPE_SECRET_KEY ?? \"\", {\n    apiVersion: \"2023-08-16\",\n    typescript: true\n});\nasync function getUserSubscriptionPlan() {\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.getKindeServerSession)();\n    const user = getUser();\n    if (!user.id) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const dbUser = await _db__WEBPACK_IMPORTED_MODULE_1__.db.user.findFirst({\n        where: {\n            id: user.id\n        }\n    });\n    if (!dbUser) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const isSubscribed = Boolean(dbUser.stripePriceId && dbUser.stripeCurrentPeriodEnd && // 86400000 = 1 day\n    dbUser.stripeCurrentPeriodEnd.getTime() + 86400000 > Date.now());\n    const plan = isSubscribed ? _config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS.find((plan)=>plan.price.priceIds.test === dbUser.stripePriceId) : null;\n    let isCanceled = false;\n    if (isSubscribed && dbUser.stripeSubscriptionId) {\n        const stripePlan = await stripe.subscriptions.retrieve(dbUser.stripeSubscriptionId);\n        isCanceled = stripePlan.cancel_at_period_end;\n    }\n    return {\n        ...plan,\n        stripeSubscriptionId: dbUser.stripeSubscriptionId,\n        stripeCurrentPeriodEnd: dbUser.stripeCurrentPeriodEnd,\n        stripeCustomerId: dbUser.stripeCustomerId,\n        isSubscribed,\n        isCanceled\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUM7QUFDZDtBQUNrRDtBQUNoRDtBQUVwQixNQUFNSSxTQUFTLElBQUlELDhDQUFNQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixJQUFJLElBQUk7SUFDcEVDLFlBQVk7SUFDWkMsWUFBWTtBQUNkLEdBQUU7QUFFSyxlQUFlQztJQUNwQixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHVCwwRkFBcUJBO0lBQ3pDLE1BQU1VLE9BQU9EO0lBRWIsSUFBSSxDQUFDQyxLQUFLQyxFQUFFLEVBQUU7UUFDWixPQUFPO1lBQ0wsR0FBR2IsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1DLFNBQVMsTUFBTWhCLG1DQUFFQSxDQUFDVyxJQUFJLENBQUNNLFNBQVMsQ0FBQztRQUNyQ0MsT0FBTztZQUNMTixJQUFJRCxLQUFLQyxFQUFFO1FBQ2I7SUFDRjtJQUVBLElBQUksQ0FBQ0ksUUFBUTtRQUNYLE9BQU87WUFDTCxHQUFHakIsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1GLGVBQWVNLFFBQ25CSCxPQUFPSSxhQUFhLElBQ2xCSixPQUFPRCxzQkFBc0IsSUFBSSxtQkFBbUI7SUFDcERDLE9BQU9ELHNCQUFzQixDQUFDTSxPQUFPLEtBQUssV0FBYUMsS0FBS0MsR0FBRztJQUduRSxNQUFNQyxPQUFPWCxlQUNUZCxpREFBS0EsQ0FBQzBCLElBQUksQ0FBQyxDQUFDRCxPQUFTQSxLQUFLRSxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxLQUFLWixPQUFPSSxhQUFhLElBQ3RFO0lBRUosSUFBSU4sYUFBYTtJQUNqQixJQUFJRCxnQkFBZ0JHLE9BQU9hLG9CQUFvQixFQUFFO1FBQy9DLE1BQU1DLGFBQWEsTUFBTTNCLE9BQU80QixhQUFhLENBQUNDLFFBQVEsQ0FDcERoQixPQUFPYSxvQkFBb0I7UUFFN0JmLGFBQWFnQixXQUFXRyxvQkFBb0I7SUFDOUM7SUFFQSxPQUFPO1FBQ0wsR0FBR1QsSUFBSTtRQUNQSyxzQkFBc0JiLE9BQU9hLG9CQUFvQjtRQUNqRGQsd0JBQXdCQyxPQUFPRCxzQkFBc0I7UUFDckRtQixrQkFBa0JsQixPQUFPa0IsZ0JBQWdCO1FBQ3pDckI7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpbGwvLi9zcmMvbGliL3N0cmlwZS50cz83OThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBMQU5TIH0gZnJvbSAnQC9jb25maWcvc3RyaXBlJ1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvZGInXHJcbmltcG9ydCB7IGdldEtpbmRlU2VydmVyU2Vzc2lvbiB9IGZyb20gJ0BraW5kZS1vc3Mva2luZGUtYXV0aC1uZXh0anMvc2VydmVyJ1xyXG5pbXBvcnQgU3RyaXBlIGZyb20gJ3N0cmlwZSdcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJpcGUgPSBuZXcgU3RyaXBlKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZID8/ICcnLCB7XHJcbiAgYXBpVmVyc2lvbjogJzIwMjMtMDgtMTYnLFxyXG4gIHR5cGVzY3JpcHQ6IHRydWUsXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4oKSB7XHJcbiAgY29uc3QgeyBnZXRVc2VyIH0gPSBnZXRLaW5kZVNlcnZlclNlc3Npb24oKVxyXG4gIGNvbnN0IHVzZXIgPSBnZXRVc2VyKClcclxuXHJcbiAgaWYgKCF1c2VyLmlkKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5QTEFOU1swXSxcclxuICAgICAgaXNTdWJzY3JpYmVkOiBmYWxzZSxcclxuICAgICAgaXNDYW5jZWxlZDogZmFsc2UsXHJcbiAgICAgIHN0cmlwZUN1cnJlbnRQZXJpb2RFbmQ6IG51bGwsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBkYlVzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRGaXJzdCh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICBpZDogdXNlci5pZCxcclxuICAgIH0sXHJcbiAgfSlcclxuXHJcbiAgaWYgKCFkYlVzZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLlBMQU5TWzBdLFxyXG4gICAgICBpc1N1YnNjcmliZWQ6IGZhbHNlLFxyXG4gICAgICBpc0NhbmNlbGVkOiBmYWxzZSxcclxuICAgICAgc3RyaXBlQ3VycmVudFBlcmlvZEVuZDogbnVsbCxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGlzU3Vic2NyaWJlZCA9IEJvb2xlYW4oXHJcbiAgICBkYlVzZXIuc3RyaXBlUHJpY2VJZCAmJlxyXG4gICAgICBkYlVzZXIuc3RyaXBlQ3VycmVudFBlcmlvZEVuZCAmJiAvLyA4NjQwMDAwMCA9IDEgZGF5XHJcbiAgICAgIGRiVXNlci5zdHJpcGVDdXJyZW50UGVyaW9kRW5kLmdldFRpbWUoKSArIDg2XzQwMF8wMDAgPiBEYXRlLm5vdygpXHJcbiAgKVxyXG5cclxuICBjb25zdCBwbGFuID0gaXNTdWJzY3JpYmVkXHJcbiAgICA/IFBMQU5TLmZpbmQoKHBsYW4pID0+IHBsYW4ucHJpY2UucHJpY2VJZHMudGVzdCA9PT0gZGJVc2VyLnN0cmlwZVByaWNlSWQpXHJcbiAgICA6IG51bGxcclxuXHJcbiAgbGV0IGlzQ2FuY2VsZWQgPSBmYWxzZVxyXG4gIGlmIChpc1N1YnNjcmliZWQgJiYgZGJVc2VyLnN0cmlwZVN1YnNjcmlwdGlvbklkKSB7XHJcbiAgICBjb25zdCBzdHJpcGVQbGFuID0gYXdhaXQgc3RyaXBlLnN1YnNjcmlwdGlvbnMucmV0cmlldmUoXHJcbiAgICAgIGRiVXNlci5zdHJpcGVTdWJzY3JpcHRpb25JZFxyXG4gICAgKVxyXG4gICAgaXNDYW5jZWxlZCA9IHN0cmlwZVBsYW4uY2FuY2VsX2F0X3BlcmlvZF9lbmRcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5wbGFuLFxyXG4gICAgc3RyaXBlU3Vic2NyaXB0aW9uSWQ6IGRiVXNlci5zdHJpcGVTdWJzY3JpcHRpb25JZCxcclxuICAgIHN0cmlwZUN1cnJlbnRQZXJpb2RFbmQ6IGRiVXNlci5zdHJpcGVDdXJyZW50UGVyaW9kRW5kLFxyXG4gICAgc3RyaXBlQ3VzdG9tZXJJZDogZGJVc2VyLnN0cmlwZUN1c3RvbWVySWQsXHJcbiAgICBpc1N1YnNjcmliZWQsXHJcbiAgICBpc0NhbmNlbGVkLFxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJQTEFOUyIsImRiIiwiZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uIiwiU3RyaXBlIiwic3RyaXBlIiwicHJvY2VzcyIsImVudiIsIlNUUklQRV9TRUNSRVRfS0VZIiwiYXBpVmVyc2lvbiIsInR5cGVzY3JpcHQiLCJnZXRVc2VyU3Vic2NyaXB0aW9uUGxhbiIsImdldFVzZXIiLCJ1c2VyIiwiaWQiLCJpc1N1YnNjcmliZWQiLCJpc0NhbmNlbGVkIiwic3RyaXBlQ3VycmVudFBlcmlvZEVuZCIsImRiVXNlciIsImZpbmRGaXJzdCIsIndoZXJlIiwiQm9vbGVhbiIsInN0cmlwZVByaWNlSWQiLCJnZXRUaW1lIiwiRGF0ZSIsIm5vdyIsInBsYW4iLCJmaW5kIiwicHJpY2UiLCJwcmljZUlkcyIsInRlc3QiLCJzdHJpcGVTdWJzY3JpcHRpb25JZCIsInN0cmlwZVBsYW4iLCJzdWJzY3JpcHRpb25zIiwicmV0cmlldmUiLCJjYW5jZWxfYXRfcGVyaW9kX2VuZCIsInN0cmlwZUN1c3RvbWVySWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/stripe.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@kinde-oss","vendor-chunks/crypto-js","vendor-chunks/stripe","vendor-chunks/jose","vendor-chunks/qs","vendor-chunks/object-inspect","vendor-chunks/get-intrinsic","vendor-chunks/cookie","vendor-chunks/side-channel","vendor-chunks/@swc","vendor-chunks/define-data-property","vendor-chunks/has-symbols","vendor-chunks/function-bind","vendor-chunks/jwt-decode","vendor-chunks/call-bind","vendor-chunks/set-function-length","vendor-chunks/uncrypto","vendor-chunks/has-property-descriptors","vendor-chunks/es-errors","vendor-chunks/es-define-property","vendor-chunks/has-proto","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/@uploadthing","vendor-chunks/uploadthing","vendor-chunks/ms","vendor-chunks/@pinecone-database","vendor-chunks/langchain","vendor-chunks/ajv","vendor-chunks/formdata-node","vendor-chunks/form-data-encoder","vendor-chunks/langsmith","vendor-chunks/uuid","vendor-chunks/whatwg-url","vendor-chunks/fast-uri","vendor-chunks/agentkeepalive","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/js-tiktoken","vendor-chunks/tr46","vendor-chunks/cross-fetch","vendor-chunks/webidl-conversions","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/node-fetch","vendor-chunks/node-domexception","vendor-chunks/json-schema-traverse","vendor-chunks/humanize-ms","vendor-chunks/flat","vendor-chunks/fast-deep-equal","vendor-chunks/eventemitter3","vendor-chunks/event-target-shim","vendor-chunks/decamelize","vendor-chunks/camelcase","vendor-chunks/base64-js","vendor-chunks/abort-controller","vendor-chunks/@sinclair"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cskill%5Csource%5Crepos%5Cresumetojob.ai%5CResumeToJob&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();